{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ITR1 Schema",
  "description": "JSON schema for ITR1 tax return form - for individuals with salary and house property income",
  "version": "1.0.0",
  "type": "object",
  "properties": {
    "personalInfo": {
      "type": "object",
      "description": "Personal information of the taxpayer",
      "properties": {
        "pan": {
          "type": "string",
          "pattern": "^[A-Z]{5}[0-9]{4}[A-Z]{1}$",
          "description": "PAN number in format AAAAA9999A"
        },
        "name": {
          "type": "string",
          "minLength": 1,
          "description": "Full name of the taxpayer"
        },
        "father_name": {
          "type": ["string", "null"],
          "description": "Father's name"
        },
        "date_of_birth": {
          "type": "string",
          "format": "date",
          "description": "Date of birth in YYYY-MM-DD format"
        },
        "address": {
          "type": "string",
          "minLength": 1,
          "description": "Complete address"
        },
        "mobile": {
          "type": ["string", "null"],
          "pattern": "^[0-9]{10}$",
          "description": "10-digit mobile number"
        },
        "email": {
          "type": ["string", "null"],
          "format": "email",
          "description": "Email address"
        }
      },
      "required": ["pan", "name", "date_of_birth", "address"]
    },
    "returnContext": {
      "type": "object",
      "description": "Return filing context and metadata",
      "properties": {
        "assessment_year": {
          "type": "string",
          "pattern": "^[0-9]{4}-[0-9]{2}$",
          "description": "Assessment year in YYYY-YY format"
        },
        "form_type": {
          "type": "string",
          "enum": ["ITR1"],
          "description": "Form type - ITR1 for this schema"
        },
        "filing_date": {
          "type": ["string", "null"],
          "format": "date",
          "description": "Date of filing in YYYY-MM-DD format"
        },
        "revised_return": {
          "type": "boolean",
          "default": false,
          "description": "Whether this is a revised return"
        }
      },
      "required": ["assessment_year", "form_type"]
    },
    "income": {
      "type": "object",
      "description": "Income details for ITR1",
      "properties": {
        "salary": {
          "type": "object",
          "description": "Salary income details",
          "properties": {
            "gross_salary": {
              "type": "number",
              "minimum": 0,
              "description": "Gross salary amount"
            },
            "allowances": {
              "type": "number",
              "minimum": 0,
              "description": "Allowances received"
            },
            "perquisites": {
              "type": "number",
              "minimum": 0,
              "description": "Value of perquisites"
            },
            "profits_in_lieu": {
              "type": "number",
              "minimum": 0,
              "description": "Profits in lieu of salary"
            },
            "total_salary": {
              "type": "number",
              "minimum": 0,
              "description": "Total salary income"
            }
          }
        },
        "house_property": {
          "type": "object",
          "description": "House property income details",
          "properties": {
            "annual_value": {
              "type": "number",
              "minimum": 0,
              "description": "Annual value of property"
            },
            "municipal_tax": {
              "type": "number",
              "minimum": 0,
              "description": "Municipal tax paid"
            },
            "standard_deduction": {
              "type": "number",
              "minimum": 0,
              "description": "Standard deduction (30% of annual value)"
            },
            "interest_on_loan": {
              "type": "number",
              "minimum": 0,
              "description": "Interest on housing loan"
            },
            "net_income": {
              "type": "number",
              "description": "Net income from house property"
            }
          }
        },
        "other_sources": {
          "type": "object",
          "description": "Income from other sources",
          "properties": {
            "interest_income": {
              "type": "number",
              "minimum": 0,
              "description": "Interest income from banks, deposits etc."
            },
            "dividend_income": {
              "type": "number",
              "minimum": 0,
              "description": "Dividend income"
            },
            "other_income": {
              "type": "number",
              "minimum": 0,
              "description": "Other miscellaneous income"
            },
            "total_other_sources": {
              "type": "number",
              "minimum": 0,
              "description": "Total income from other sources"
            }
          }
        }
      }
    },
    "deductions": {
      "type": "object",
      "description": "Deductions under various sections",
      "properties": {
        "section_80c": {
          "type": "number",
          "minimum": 0,
          "maximum": 150000,
          "description": "Deduction under section 80C"
        },
        "section_80d": {
          "type": "number",
          "minimum": 0,
          "description": "Deduction under section 80D for medical insurance"
        },
        "section_80g": {
          "type": "number",
          "minimum": 0,
          "description": "Deduction under section 80G for donations"
        },
        "other_deductions": {
          "type": "number",
          "minimum": 0,
          "description": "Other deductions"
        },
        "total_deductions": {
          "type": "number",
          "minimum": 0,
          "description": "Total deductions claimed"
        }
      }
    },
    "taxes_paid": {
      "type": "object",
      "description": "Taxes paid during the year",
      "properties": {
        "tds": {
          "type": "number",
          "minimum": 0,
          "description": "Tax deducted at source"
        },
        "advance_tax": {
          "type": "number",
          "minimum": 0,
          "description": "Advance tax paid"
        },
        "self_assessment_tax": {
          "type": "number",
          "minimum": 0,
          "description": "Self assessment tax paid"
        },
        "total_taxes_paid": {
          "type": "number",
          "minimum": 0,
          "description": "Total taxes paid"
        }
      }
    },
    "totals": {
      "type": "object",
      "description": "Calculated totals and tax liability",
      "properties": {
        "gross_total_income": {
          "type": "number",
          "minimum": 0,
          "description": "Gross total income"
        },
        "total_deductions": {
          "type": "number",
          "minimum": 0,
          "description": "Total deductions"
        },
        "taxable_income": {
          "type": "number",
          "minimum": 0,
          "description": "Taxable income after deductions"
        },
        "tax_on_taxable_income": {
          "type": "number",
          "minimum": 0,
          "description": "Tax calculated on taxable income"
        },
        "total_tax_liability": {
          "type": "number",
          "minimum": 0,
          "description": "Total tax liability including cess"
        },
        "refund_or_payable": {
          "type": "number",
          "description": "Amount refundable or payable (can be negative for refund)"
        }
      }
    }
  },
  "required": ["personalInfo", "returnContext", "income", "deductions", "taxes_paid", "totals"]
}